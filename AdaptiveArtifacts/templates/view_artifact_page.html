<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
    <xi:include href="layout.html" />
    <xi:include href="view_artifact_common.html" />

    <head>
        <title>Adaptive Artifact #${artifact.get_id()} <py:if test="spec_name">(${spec_name})</py:if></title>
    </head>
    <body>
        <div id="content" class="asa search">
            <div id="dialog-content"></div>

            <div class="buttons" style="position: absolute; top: 0; right: 0;">
                <form method="get" action="${href.adaptiveartifacts('artifact/' + artifact.get_id())}">
                    <input type="hidden" name="action" value="edit" />
                    <input type="submit" value="Edit" />
                </form>
                <form method="get" action="${href.adaptiveartifacts('artifact/' + artifact.get_id())}">
                    <input type="hidden" name="action" value="delete" />
                    <input type="submit" value="Delete" />
                </form>
            </div>
            <br/><br/>

            <a name="pages" />
            <h2>Related Wiki Pages</h2>
            <py:if test="len(related_pages)==0">
                <p style="font-style: italic">This adaptive artifact is not referred from a wiki page.</p>
            </py:if>
            <py:if test="len(related_pages)>0">
                <dl id="results">
                    <py:for each="page in related_pages">
                        <dt><a href="${page.href}" class="searchable">${page.title}</a></dt>
                        <dd class="searchable">${page.excerpt}</dd>
                        <dd>
                            <py:if test="page.author"><span class="author">By ${format_author(page.author)}</span> &mdash;</py:if>
                            <span class="date">${page.date}</span>
                        </dd>
                    </py:for>
                </dl>
            </py:if>


            <a name="artifacts" />
            <h2>Related Adaptive Artifacts</h2>
            <py:if test="len(related_artifacts)==0">
                <p style="font-style: italic">This adaptive artifact is not referred from other adaptive artifacts.</p>
            </py:if>
            <py:if test="len(related_artifacts)>0">
                <ul>
                    <py:for each="artifact in related_artifacts">
                        <li><a href="${artifact.href}" class="asa-link">${str(artifact.artifact)}</a></li>
                    </py:for>
                </ul>
            </py:if>

            <br/><br/>
        </div>
    </body>
</html>